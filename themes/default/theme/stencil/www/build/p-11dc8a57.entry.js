import{r as s,h as t,g as i}from"./p-68998d96.js";const o=class{constructor(t){s(this,t),this.paused=!0,this.isLoading=!1,this.error=!1}componentDidLoad(){const s=this.getAudio();s&&(s.volume=1,s.muted=!1),s.addEventListener("pause",(()=>this.paused=!0)),s.addEventListener("play",(()=>this.paused=!1))}toggleMute(){if(this.isLoading)return;const s=this.getAudio();s.paused?(this.isLoading=!0,s.play().then((()=>{this.isLoading=!1})).catch((()=>{this.error=!0}))):s.pause()}getAudio(){return this.el.querySelector("audio")}renderError(){return t("div",{class:"audio-container"},t("div",{class:"error-callout"},"Music Cannot Be Played"))}renderAudio(){const s=this.paused?this.pausedText:this.playingText,i=this.isLoading?"fa-cog fa-spin":"fas fa-music";return t("div",{class:"audio-container",onClick:this.toggleMute.bind(this)},t("div",{class:"audio-button"},t("i",{class:`fas ${i}`}),s),t("audio",{preload:"none",loop:!0},t("source",{src:this.url,type:"audio/mpeg"})))}render(){return this.error?this.renderError():this.renderAudio()}get el(){return i(this)}};export{o as pulumi_audio}