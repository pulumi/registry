import{r as s,h as t,g as i}from"./p-68998d96.js";const h=class{constructor(t){s(this,t),this.items=[],this.defaultFormId="",this.formSubmitted=!1}componentWillLoad(){""!==this.defaultFormId&&(this.selectedItem=this.items.find((s=>s.hubspotFormId===this.defaultFormId)),this.selectedItem)||(this.selectedItem=this.items[0])}componentDidLoad(){this.windowEventHandler=this.handleWindowMessage.bind(this),window.addEventListener("message",this.windowEventHandler)}disconnectedCallback(){window.removeEventListener("message",this.windowEventHandler)}handleWindowMessage(s){"hsFormCallback"===s.data.type&&"onFormReady"===s.data.eventName&&this.el.querySelector("form.hs-form").addEventListener("submit",this.handleFormSubmit.bind(this))}handleFormSubmit(){this.formSubmitted=!0}handleSelectChange(s){this.selectedItem=this.items.find((t=>t.hubspotFormId===s))}render(){var s;const i=null===(s=this.selectedItem)||void 0===s?void 0:s.hubspotFormId;return t("div",null,this.formSubmitted?null:t("span",null,t("span",{class:this.labelClass||""},this.labelText),t("select",{class:this.selectClass||"",onInput:s=>this.handleSelectChange(s.target.value)},this.items.map((s=>t("option",{value:s.hubspotFormId,selected:s.hubspotFormId===i},s.label?s.label:s.key))))),t("pulumi-hubspot-form",{key:i,"form-id":i}))}get el(){return i(this)}};h.style=":host{display:block}";export{h as pulumi_multi_select_form}