import{r as i,h as t}from"./p-68998d96.js";import{l as n}from"./p-56165be0.js";import"./p-0bc4f624.js";const e=class{constructor(t){i(this,t),this.filterContent="",this.debouncedFilterTree=n.debounce(this.debouncedFilterTree,300)}componentWillLoad(){this.loadNavigationData().then((()=>{}))}async loadNavigationData(){this.isLoading=!0;try{const i=await fetch(`/registry/packages/navs/${this.packageName}.json`),t=await i.json();this.parsedNodes=t,this.currentlyRenderedNodes=this.parsedNodes}catch(i){return}this.isLoading=!1}filterTreeToMatchingContent(i,t,n,e){const a=this.filterTreeToMatchingRecursive(i,t,n,e);this.currentlyRenderedNodes=a}filterTreeToMatchingRecursive(i,t,n,e,a={},o=[""]){t.map((t=>{const r=o.join("")+t.name,s=o.join(""),c=n?n.name:"",l=!!n&&!!a[c],d=!!e&&!!a[s];if(!a[r]){if(t.name.toLowerCase().includes(this.filterContent)){if(!l&&n){const t=Object.assign(Object.assign({},n),{children:[],isExpanded:!0,rootName:c});i.push(t),a[c]=!0}if(!d&&e){const t=Object.assign(Object.assign({},e),{children:[],isExpanded:!0,parentName:n.name,rootName:c});i.push(t),a[s]=!0}if(e){const n=Object.assign(Object.assign({},t),{children:[],parentName:e.name,isExpanded:!0,rootName:c});i.push(n),a[r]=!0}else if(n){const e=Object.assign(Object.assign({},t),{children:[],parentName:n.name,isExpanded:!0,rootName:c});i.push(e),a[r]=!0}else{const n=Object.assign(Object.assign({},t),{children:[],parentName:void 0,isExpanded:!0,rootName:c});i.push(n),a[r]=!0}}t.children&&this.filterTreeToMatchingRecursive(i,t.children,n||t,n?t:null,a,o.concat([t.name]))}}));const r=i.filter((i=>void 0===i.parentName));return r.map((t=>{var n;t.children=i.filter((i=>i.parentName===t.name)),null===(n=t.children)||void 0===n||n.map((n=>{n.children=i.filter((i=>i.parentName===n.name&&i.rootName===t.name))}))})),[...r]}onChange(i){this.debouncedFilterTree(i)}onClearFilter(){this.filterContent="",this.currentlyRenderedNodes=this.parsedNodes}debouncedFilterTree(i){this.filterContent=i.target.value.trim().toLowerCase(),this.filterContent.length<2?this.currentlyRenderedNodes=this.parsedNodes:this.filterTreeToMatchingContent([],this.parsedNodes)}getFilterAndNavTree(){var i,n;return t("div",{class:"filter-and-nav-tree"},t("div",{class:"input-container"},t("input",{class:"navigation-filter-input",placeholder:"Filter",onInput:this.onChange.bind(this),value:this.filterContent}),this.filterContent&&t("div",{class:"clear-container"},t("button",{onClick:this.onClearFilter.bind(this),class:"clear-filter-button"},"X"))),1===(null===(i=this.filterContent)||void 0===i?void 0:i.length)&&t("div",{class:"filter-help-text"},"Provide at least two characters to filter."),(null===(n=this.currentlyRenderedNodes)||void 0===n?void 0:n.length)<1&&t("div",{class:"no-results"},"No results found. Try a different filter."),t("pulumi-api-doc-nav-tree",{class:"nav-tree",baseDirectory:this.baseDirectory,nodes:this.currentlyRenderedNodes}))}getLoadingState(){return t("div",{class:"loading"},t("i",{class:"loading-icon fas fa-spinner"}),t("span",{class:"loading-text"},"Loading..."))}render(){return t("section",{class:"api-doc-nav"},this.isLoading?this.getLoadingState():this.getFilterAndNavTree())}};e.style='.api-doc-nav{width:100%;max-width:375px}.api-doc-nav .filter-help-text{font-size:14px}.api-doc-nav .no-results{font-size:14px}.api-doc-nav .loading .loading-icon{margin-right:1rem}.api-doc-nav .navigation-header{font-family:var(--heading-font);font-weight:400;font-size:18px;color:#000;margin-top:0;margin-bottom:14px}.api-doc-nav .input-container{display:inline-block;position:relative;margin-left:12px}.api-doc-nav .input-container .clear-container{position:absolute;display:flex;align-items:center;margin-right:20px;top:0;right:0;height:100%}.api-doc-nav .input-container .clear-filter-button{display:flex;align-items:center;justify-content:center;height:18px;width:18px;font-size:xx-small;background:#dcdcdc;color:#808080;border-radius:50%;border:none;cursor:pointer;padding:0px}.api-doc-nav .input-container .navigation-filter-input{font-family:"Gilroy";font-size:16px;height:20px;width:90%;border-radius:4px;border:1px solid #000;padding:10px;margin-top:0;box-sizing:content-box}.api-doc-nav .input-container .navigation-filter-input:focus{outline-color:#4d5bd9}.api-doc-nav .nav-tree{width:100%;min-width:100%;max-width:100%}.api-doc-nav .nav-tree{display:block}.api-doc-nav .filter-and-nav-tree{margin-right:12px}';export{e as pulumi_api_doc_filterable_nav}